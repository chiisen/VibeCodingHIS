{% extends "base.html" %}

{% block title %}新增病人 - 簡易HIS系統{% endblock %}

{% block content %}
<div class="page-header">
    <h2><i class="fas fa-user-plus"></i> 新增病人</h2>
    <a href="{{ url_for('index') }}" class="btn btn-outline">
        <i class="fas fa-arrow-left"></i> 返回列表
    </a>
</div>

<div class="form-container">
    <form method="POST" class="patient-form">
        <div class="form-group">
            <label for="name" class="form-label">
                <i class="fas fa-user"></i> 姓名 <span class="required">*</span>
            </label>
            <input type="text" id="name" name="name" class="form-input" required 
                   placeholder="請輸入病人姓名" value="{{ request.form.name if request.form.name }}">
        </div>

        <div class="form-group">
            <label for="age" class="form-label">
                <i class="fas fa-birthday-cake"></i> 年齡 <span class="required">*</span>
            </label>
            <input type="number" id="age" name="age" class="form-input" required 
                   placeholder="請輸入年齡" min="1" max="150" 
                   value="{{ request.form.age if request.form.age }}">
        </div>

        <div class="form-group">
            <label for="gender" class="form-label">
                <i class="fas fa-venus-mars"></i> 性別 <span class="required">*</span>
            </label>
            <select id="gender" name="gender" class="form-select" required>
                <option value="">請選擇性別</option>
                <option value="男" {{ 'selected' if request.form.gender == '男' }}>男</option>
                <option value="女" {{ 'selected' if request.form.gender == '女' }}>女</option>
                <option value="其他" {{ 'selected' if request.form.gender == '其他' }}>其他</option>
            </select>
        </div>

        <div class="form-group">
            <label for="diagnosis" class="form-label">
                <i class="fas fa-stethoscope"></i> 診斷說明
            </label>
            <textarea id="diagnosis" name="diagnosis" class="form-textarea" rows="4" 
                      placeholder="請輸入診斷說明（選填）">{{ request.form.diagnosis if request.form.diagnosis }}</textarea>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary btn-large">
                <i class="fas fa-save"></i> 新增病人
            </button>
            <a href="{{ url_for('index') }}" class="btn btn-outline btn-large">
                <i class="fas fa-times"></i> 取消
            </a>
        </div>
    </form>
</div>

<div class="form-help">
    <h4><i class="fas fa-info-circle"></i> 填寫說明</h4>
    <ul>
        <li><span class="required">*</span> 標示為必填欄位</li>
        <li>姓名請輸入真實姓名或化名</li>
        <li>年齡範圍：1-150歲</li>
        <li>診斷說明可留空，後續可補充</li>
    </ul>
</div>
{% endblock %}
